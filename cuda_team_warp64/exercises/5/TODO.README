--- split funcitons into files
--- change Makefile accordingly